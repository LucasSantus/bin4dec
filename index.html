<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <!-- Import CSS Index -->
        <link rel="stylesheet" href="static/css/index.css">

        <!-- Import CSS Personalizado -->
        <link rel="stylesheet" href="static/css/styles.css">

        <!-- Nome da Página -->
        <title>Bin4Dec</title>
    </head>

    <body class="bg-body">
        <main>
            <div class="item-center">
                <div class="d-flex flex-column">
                    <div class="mt-2 fs-5 fw-normal">
                        <label for="code">Password</label>
                    </div>
                    <div class="mt-2">
                        <input type="text" id="code" class="form-control"oninput="this.value = this.value.replace(/[^0-1.]/g, '').replace(/(\..*?)\..*/g, '$1');" />
                    </div>
                    <div class="mt-2">
                        <span class="form-text fs-6">
                            Must be 8-20 characters long.
                        </span>
                    </div>
                    <div class="mt-2 text-center">
                        <div class="d-flex flex-column">
                            <span>Resultado</span>
                            <span id="result"></span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="text-center w-100">
                © 2021 Copyright - UninCare
            </div>
        </footer>

        <!-- Import JS JQuery -->
        <script src="static/js/jquery.min.js"></script>

        <!-- Inicialization Page -->
        <script>
            $(document).ready(function() { 
                $("#code").change(function(){
                    function toDecimal(bin) {
                        let dec = 0;
                        for (let c = bin.length - 1, i = 0; c >= 0; c--, i++) {
                            dec += bin[c] * Math.pow(2, i);
                        }
                        return dec;
                    }

                    $("#result").append(toDecimal('1101010'));

                    // console.log(
                    //     toDecimal('1101010'),
                    //     toDecimal('1101010') === parseInt('1101010', 2)
                    // );
                });
            });          
        </script>
    </body>
</html>    